---
layout: post
title: Redmine XLS Export PluginのRedmine 2.3.0対応
date: '2013-03-30T17:40:00.000+09:00'
author: ソフトウェア開発にまつわる話
tags:
- Redmine
modified_time: '2013-03-30T17:40:24.460+09:00'
blogger_id: tag:blogger.com,1999:blog-469434601551305913.post-6026762233951211781
blogger_orig_url: https://two-pack-sbs.blogspot.com/2013/03/redmine-xls-export-pluginredmine-230.html
---

XLS Export PluginのRedmine 2.3.0対応を行って0.2.1.t2にバージョンをあげました。<br />
<a href="https://github.com/two-pack/redmine_xls_export/tree/0.2.1.t2">https://github.com/two-pack/redmine_xls_export/tree/0.2.1.t2</a><br />
<br />
<br />
<h3>2.3.0での問題</h3>Redmineのapplication.cssが変わったため、管理者のプラグイン設定画面の表示が崩れていました。以下のチケットです。<br />
<a href="https://github.com/two-pack/redmine_xls_export/issues/19">https://github.com/two-pack/redmine_xls_export/issues/19</a><br />
<br />
<br />
<h3>対処</h3>XLS Export Pluginは、作者のVitaly Klimovが同じく作成している<a href="http://www.redmine.org/plugins/redmine_plugin_views_revisions">Plugin views revisions</a>を使ってRedmineのバージョン違いに対応しているため、今回も使ってみました。<br />
revフォルダの下にバージョンごとのファイルを作成すれば、インストール手順にある以下のRakeコマンドでRedmineのバージョンに合わせたファイルが使われます。<br />
<pre class="prettyprint">$ rake redmine:plugins:process_version_change RAILS_ENV=production
</pre><br />
実際に行った対応は、<a href="https://github.com/two-pack/redmine_xls_export/commit/126ee6ca15e44cd188c120cb1ca49f5fd2b726fc">このコミット</a>で概略は以下の通りです。<br />
<br />
<ol><li>もともとのCSSである <b>assets/stylesheets/xls_export.css</b> を<b>rev/assets/stylesheets/1.3.0-xls_export.css</b> として移動。</li>
<li><b>redmine_xls_export/rev/assets/stylesheets/2.3.0-xls_export.css</b>として、Redmine 2.3.0用のCSSを作成。</li>
</ol><br />
<br />
